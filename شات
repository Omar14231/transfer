-- Mobile Chat System for Script Users
-- By: [Your Name]

local Players = game:GetService("Players")
local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")

-- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "MobileChatSystem"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(1, 0, 1, 0)
mainFrame.BackgroundTransparency = 1
mainFrame.Parent = screenGui

-- Ø²Ø± Ø§Ù„Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±
local chatButton = Instance.new("TextButton")
chatButton.Name = "ChatButton"
chatButton.Size = UDim2.new(0, 60, 0, 60)
chatButton.Position = UDim2.new(0, 20, 0.8, -30)
chatButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
chatButton.Text = "ğŸ’¬"
chatButton.TextColor3 = Color3.fromRGB(255, 255, 255)
chatButton.Font = Enum.Font.GothamBold
chatButton.TextSize = 20
chatButton.BorderSizePixel = 0
chatButton.Parent = mainFrame

-- Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø± Ø¯Ø§Ø¦Ø±ÙŠ
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(1, 0)
corner.Parent = chatButton

-- Ø¥Ø·Ø§Ø± Ø§Ù„Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±
local chatFrame = Instance.new("Frame")
chatFrame.Name = "ChatFrame"
chatFrame.Size = UDim2.new(0.5, 0, 0.3, 0) -- Ù†ØµÙ Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø©ØŒ 30% Ø§Ø±ØªÙØ§Ø¹
chatFrame.Position = UDim2.new(0.25, 0, 0.35, 0) -- Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø©
chatFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
chatFrame.BorderSizePixel = 0
chatFrame.Visible = false
chatFrame.Parent = mainFrame
chatFrame.ClipsDescendants = true

local chatCorner = Instance.new("UICorner")
chatCorner.CornerRadius = UDim.new(0, 10)
chatCorner.Parent = chatFrame

-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 25)
titleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
titleBar.Parent = chatFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 10)
titleCorner.Parent = titleBar

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, -30, 1, 0)
titleLabel.Position = UDim2.new(0, 8, 0, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "ğŸ’¬ Ø§Ù„Ø´Ø§Øª"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextXAlignment = Enum.TextXAlignment.Left
titleLabel.Font = Enum.Font.GothamBold
titleLabel.TextSize = 12
titleLabel.Parent = titleBar

-- Ø²Ø± Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ (X)
local closeButton = Instance.new("TextButton")
closeButton.Size = UDim2.new(0, 20, 0, 20)
closeButton.Position = UDim2.new(1, -25, 0, 2)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 80, 80)
closeButton.Text = "X"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.Font = Enum.Font.GothamBold
closeButton.TextSize = 10
closeButton.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(1, 0)
closeCorner.Parent = closeButton

-- Ø³Ø¬Ù„ Ø§Ù„Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±
local chatLogScrollingFrame = Instance.new("ScrollingFrame")
chatLogScrollingFrame.Size = UDim2.new(1, -5, 1, -70) -- Ù…Ø³Ø§Ø­Ø© ØµØºÙŠØ±Ø© Ù„Ù„Ø³Ø¬Ù„
chatLogScrollingFrame.Position = UDim2.new(0, 2, 0, 27)
chatLogScrollingFrame.BackgroundTransparency = 1
chatLogScrollingFrame.BorderSizePixel = 0
chatLogScrollingFrame.ScrollBarThickness = 4
chatLogScrollingFrame.ScrollBarImageColor3 = Color3.fromRGB(100, 100, 100)
chatLogScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
chatLogScrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
chatLogScrollingFrame.Parent = chatFrame

local chatLogLayout = Instance.new("UIListLayout")
chatLogLayout.Padding = UDim.new(0, 3)
chatLogLayout.Parent = chatLogScrollingFrame

-- Ø´Ø±ÙŠØ· Ø§Ù„ÙƒØªØ§Ø¨Ø© (Ù†ØµÙ Ø§Ù„Ø´Ø§Ø´Ø©)
local inputFrame = Instance.new("Frame")
inputFrame.Size = UDim2.new(1, -10, 0, 35)
inputFrame.Position = UDim2.new(0, 5, 1, -40)
inputFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
inputFrame.Parent = chatFrame

local inputCorner = Instance.new("UICorner")
inputCorner.CornerRadius = UDim.new(0, 6)
inputCorner.Parent = inputFrame

local textBox = Instance.new("TextBox")
textBox.Size = UDim2.new(1, -50, 1, -6)
textBox.Position = UDim2.new(0, 5, 0, 3)
textBox.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
textBox.PlaceholderText = "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..."
textBox.PlaceholderColor3 = Color3.fromRGB(180, 180, 180)
textBox.Font = Enum.Font.Gotham
textBox.TextSize = 12
textBox.TextXAlignment = Enum.TextXAlignment.Left
textBox.ClearTextOnFocus = false
textBox.Parent = inputFrame

local textBoxCorner = Instance.new("UICorner")
textBoxCorner.CornerRadius = UDim.new(0, 4)
textBoxCorner.Parent = textBox

local sendButton = Instance.new("TextButton")
sendButton.Size = UDim2.new(0, 40, 1, -6)
sendButton.Position = UDim2.new(1, -45, 0, 3)
sendButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
sendButton.Text = "â¤"
sendButton.TextColor3 = Color3.fromRGB(255, 255, 255)
sendButton.Font = Enum.Font.GothamBold
sendButton.TextSize = 12
sendButton.Parent = inputFrame

local sendCorner = Instance.new("UICorner")
sendCorner.CornerRadius = UDim.new(0, 4)
sendCorner.Parent = sendButton

-- Ù‚Ø§Ø¦Ù…Ø© Ù„ØªØªØ¨Ø¹ Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
local scriptUsers = {}

-- ÙˆØ¸ÙŠÙØ© Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø³Ø¬Ù„
local function addMessageToLog(senderName, message, isIncoming)
    local messageFrame = Instance.new("Frame")
    messageFrame.Size = UDim2.new(1, 0, 0, 0)
    messageFrame.BackgroundTransparency = 1
    messageFrame.AutomaticSize = Enum.AutomaticSize.Y
    messageFrame.Parent = chatLogScrollingFrame
    
    local messageBubble = Instance.new("Frame")
    messageBubble.Size = UDim2.new(0.9, 0, 0, 0)
    messageBubble.BackgroundColor3 = isIncoming and Color3.fromRGB(60, 60, 80) or Color3.fromRGB(0, 100, 200)
    messageBubble.AutomaticSize = Enum.AutomaticSize.Y
    messageBubble.Position = isIncoming and UDim2.new(0, 5, 0, 0) or UDim2.new(1, -5, 0, 0)
    messageBubble.AnchorPoint = isIncoming and Vector2.new(0, 0) or Vector2.new(1, 0)
    messageBubble.Parent = messageFrame
    
    local bubbleCorner = Instance.new("UICorner")
    bubbleCorner.CornerRadius = UDim.new(0, 8)
    bubbleCorner.Parent = messageBubble

    local senderLabel = Instance.new("TextLabel")
    senderLabel.Size = UDim2.new(1, -6, 0, 14)
    senderLabel.Position = UDim2.new(0, 3, 0, 2)
    senderLabel.BackgroundTransparency = 1
    senderLabel.Text = senderName
    senderLabel.TextColor3 = Color3.fromRGB(255, 255, 150)
    senderLabel.Font = Enum.Font.GothamBold
    senderLabel.TextSize = 9
    senderLabel.TextXAlignment = Enum.TextXAlignment.Left
    senderLabel.Parent = messageBubble
    
    local messageLabel = Instance.new("TextLabel")
    messageLabel.Size = UDim2.new(1, -6, 0, 0)
    messageLabel.Position = UDim2.new(0, 3, 0, 16)
    messageLabel.BackgroundTransparency = 1
    messageLabel.Text = message
    messageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    messageLabel.Font = Enum.Font.Gotham
    messageLabel.TextSize = 10
    messageLabel.TextWrapped = true
    messageLabel.AutomaticSize = Enum.AutomaticSize.Y
    messageLabel.TextXAlignment = Enum.TextXAlignment.Left
    messageLabel.Parent = messageBubble
    
    wait(0.1)
    chatLogScrollingFrame.CanvasPosition = Vector2.new(0, chatLogScrollingFrame.AbsoluteCanvasSize.Y)
end

-- ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙˆÙ‚ Ø§Ù„Ø±Ø£Ø³
local function displayMessageAboveHead(message, senderName, targetPlayer)
    local character = targetPlayer.Character
    if not character then return end
    
    local head = character:FindFirstChild("Head")
    if not head then return end
    
    local billboardGui = Instance.new("BillboardGui")
    billboardGui.Size = UDim2.new(0, 300, 0, 80)
    billboardGui.StudsOffset = Vector3.new(0, 3, 0)
    billboardGui.Adornee = head
    billboardGui.Parent = head
    billboardGui.AlwaysOnTop = true
    
    local background = Instance.new("Frame")
    background.Size = UDim2.new(1, 0, 1, 0)
    background.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    background.BackgroundTransparency = 0.3
    background.Parent = billboardGui
    
    local bgCorner = Instance.new("UICorner")
    bgCorner.CornerRadius = UDim.new(0, 15)
    bgCorner.Parent = background
    
    local emojiLabel = Instance.new("TextLabel")
    emojiLabel.Size = UDim2.new(0, 30, 0, 30)
    emojiLabel.Position = UDim2.new(0.5, -15, 0, 5)
    emojiLabel.BackgroundTransparency = 1
    emojiLabel.Text = "ğŸ—¨ï¸"
    emojiLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    emojiLabel.Font = Enum.Font.GothamBold
    emojiLabel.TextSize = 18
    emojiLabel.Parent = billboardGui
    
    local senderText = Instance.new("TextLabel")
    senderText.Size = UDim2.new(1, -10, 0, 15)
    senderText.Position = UDim2.new(0, 5, 0, 35)
    senderText.BackgroundTransparency = 1
    senderText.Text = senderName
    senderText.TextColor3 = Color3.fromRGB(255, 255, 150)
    senderText.Font = Enum.Font.GothamBold
    senderText.TextSize = 10
    senderText.Parent = billboardGui
    
    local messageText = Instance.new("TextLabel")
    messageText.Size = UDim2.new(1, -10, 0, 25)
    messageText.Position = UDim2.new(0, 5, 0, 50)
    messageText.BackgroundTransparency = 1
    messageText.Text = message
    messageText.TextColor3 = Color3.fromRGB(255, 255, 255)
    messageText.Font = Enum.Font.Gotham
    messageText.TextSize = 11
    messageText.TextWrapped = true
    messageText.Parent = billboardGui
    
    delay(15, function()
        if billboardGui then
            billboardGui:Destroy()
        end
    end)
end

-- ÙˆØ¸ÙŠÙØ© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹
local function sendMessageToAll()
    local message = textBox.Text
    if message == "" or message == "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." then return end
    
    -- Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø­Ù„ÙŠ
    addMessageToLog(Players.LocalPlayer.Name, message, false)
    
    -- Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙˆÙ‚ Ø±Ø£Ø³ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
    for _, player in pairs(Players:GetPlayers()) do
        pcall(function()
            displayMessageAboveHead(message, Players.LocalPlayer.Name, player)
        end)
    end
    
    addMessageToLog("Ø§Ù„Ù†Ø¸Ø§Ù…", "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¬Ù…ÙŠØ¹", false)
    textBox.Text = ""
end

-- ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
local function updateScriptUsers()
    scriptUsers = {}
    for _, player in pairs(Players:GetPlayers()) do
        -- ÙŠÙ…ÙƒÙ†Ùƒ Ù‡Ù†Ø§ Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙˆØ· Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
        table.insert(scriptUsers, player.Name)
    end
    
    -- ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
    titleLabel.Text = "ğŸ’¬ Ø§Ù„Ø´Ø§Øª (" .. #scriptUsers .. ")"
end

-- Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
chatButton.MouseButton1Click:Connect(function()
    chatFrame.Visible = not chatFrame.Visible
    if chatFrame.Visible then
        updateScriptUsers()
    end
end)

closeButton.MouseButton1Click:Connect(function()
    chatFrame.Visible = false
end)

sendButton.MouseButton1Click:Connect(function()
    sendMessageToAll()
end)

textBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        sendMessageToAll()
    end
end)

-- Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¯Ø®ÙˆÙ„ ÙˆØ®Ø±ÙˆØ¬ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
Players.PlayerAdded:Connect(function(player)
    wait(2)
    updateScriptUsers()
    addMessageToLog("Ø§Ù„Ù†Ø¸Ø§Ù…", player.Name .. " Ø§Ù†Ø¶Ù…", true)
end)

Players.PlayerRemoving:Connect(function(player)
    updateScriptUsers()
    addMessageToLog("Ø§Ù„Ù†Ø¸Ø§Ù…", player.Name .. " ØºØ§Ø¯Ø±", true)
end)

-- Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…
screenGui.Parent = PlayerGui
updateScriptUsers()

-- Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ©
addMessageToLog("Ø§Ù„Ù†Ø¸Ø§Ù…", "Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ù„Ø´Ø§Øª Ø¬Ø§Ù‡Ø²", false)
addMessageToLog("Ø§Ù„Ù†Ø¸Ø§Ù…", "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† Ø§Ù„Ù†Ø´Ø·ÙˆÙ†: " .. #scriptUsers, false)

print("âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ± ÙŠØ¹Ù…Ù„!")
